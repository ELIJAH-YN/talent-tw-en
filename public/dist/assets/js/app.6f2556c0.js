(function(e){function t(t){for(var n,s,i=t[0],l=t[1],u=t[2],c=0,m=[];c<i.length;c++)s=i[c],a[s]&&m.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);f&&f(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function s(e){return i.p+"assets/js/"+({about:"about"}[e]||e)+"."+{about:"f84440fa"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=n);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e),o=function(t){l.onerror=l.onload=null,clearTimeout(u);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+o+")");s.type=n,s.request=o,r[1](s)}a[e]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:l})},12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var f=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:[e.mode],attrs:{id:"app"}},[r("header"),r("main",[r("div",{staticClass:"container"},[e._m(0),r("form",{on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"title"},[r("h1",[e._v(" "+e._s(e.form_title)+" ")]),r("p",[e._v("\n              晨悅預防醫學機構-晨悅診所成立於2019年，為中部地區高規格預防醫學機構， 透過專業預防醫學之醫護團隊的豐富經驗，提供舒適、隱私、高品質、 高效率且全方位的健康管理服務\n          ")])]),r("div",{staticClass:"questions"},e._l(e.form_config,function(t){return r("div",{staticClass:"question_field",class:{hasError:e.error_fields[t.name],isEmpty:e.empty_fields[t.name]}},[r("div",{staticClass:"question_title"},[e._v(" "+e._s(t.title)+" "),r("em",{staticClass:"require_mark",attrs:{if:"field.require"}},[e._v("*")])]),r("div",{staticClass:"input_field",class:[t.type]},["text"===t.type?[r("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.form_values[t.name],expression:"form_values[field.name]",modifiers:{lazy:!0}}],attrs:{type:"text",name:t.name,placeholder:t.placeholder,require:t.require,error:e.error_fields[t.name]},domProps:{value:e.form_values[t.name]},on:{change:[function(r){return e.$set(e.form_values,t.name,r.target.value)},function(r){return e.validat({field_name:t.name,type:t.type,isRequire:t.require,rule:t.rule})}]}})]:e._e(),"date"===t.type?[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form_values[t.name],expression:"form_values[field.name]"}],attrs:{type:"date",name:t.name,require:t.require},domProps:{value:e.form_values[t.name]},on:{input:function(r){r.target.composing||e.$set(e.form_values,t.name,r.target.value)}}})]:e._e(),"radio"===t.type?[r("ul",{staticClass:"options"},e._l(t.option,function(n){return r("li",{staticClass:"option"},[r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form_values[t.name],expression:"form_values[field.name]"}],attrs:{type:"radio",name:t.name},domProps:{value:n.value,checked:e._q(e.form_values[t.name],n.value)},on:{change:function(r){return e.$set(e.form_values,t.name,n.value)}}}),r("span",[e._v(" "+e._s(n.label)+" ")]),"others"===n.type?r("span",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form_values[t.name],expression:"form_values[field.name]"}],attrs:{type:"text",placeholder:n.config.placeholder},domProps:{value:e.form_values[t.name]},on:{input:function(r){r.target.composing||e.$set(e.form_values,t.name,r.target.value)}}})]):e._e()])])}),0)]:e._e()],2),t.error_msg?r("div",{staticClass:"error_msg"},[e._v(" "+e._s(t.error_msg)+" ")]):e._e(),r("div",{staticClass:"empty_msg"},[e._v(" 必填 ")])])}),0),r("div",{staticClass:"form_action"},[r("button",{on:{click:e.handleSubmit}},[e._v(" 送出预约 ")])])])])]),r("footer"),r("div",{staticClass:"message_dialog",on:{click:function(t){e.mode=""}}},[r("div",{staticClass:"dialog_container"},[e._v("\n          "+e._s(e.message)+"\n      ")])])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:r("cf05")}})])}],s=(r("96cf"),r("3b8d")),i=(r("3b2b"),r("6762"),r("2fdb"),r("ac6a"),r("456d"),r("7514"),r("7f7f"),{name:"app",data:function(){return{form_values:{},error_fields:{},empty_fields:{},mode:"",message:""}},computed:{form_title:function(){return this.$store.state.form.title},form_config:function(){return this.$store.state.form.config},require_field:function(){return this.form_config.filter(function(e){return e.require})},lost_fields:function(){var e=this;return this.require_field.filter(function(t){return!e.form_values[t.name]})},hasLost:function(){var e=this;return!!Object.keys(this.lost_fields).find(function(t){return e.lost_fields[t]})},hasError:function(){var e=this;return!!Object.keys(this.error_fields).find(function(t){return e.error_fields[t]})}},methods:{validat:function(e){var t=this,r=e.field_name,n=void 0===r?"":r,a=e.type,o=e.isRequire,s=e.rule,i=!1,l=!1;o&&!this.form_values[n]&&(l=!0),this.$set(this.empty_fields,n,l),["text"].includes(a)&&(i=!!s.find(function(e){return!new RegExp("^".concat(e,"$"),"g").test(t.form_values[n])})),this.$set(this.error_fields,n,i)},reset_form:function(){this.form_values={},this.error_fields={},this.empty_fields={}},handleSubmit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.form_config.forEach(function(e){var t=e.name,r=e.type,n=e.require,a=void 0!==n&&n,s=e.rule,i=void 0===s?[]:s;o.validat({field_name:t,type:r,isRequire:a,rule:i})}),!this.hasLost){e.next=5;break}return this.message="請填寫必填欄位",this.mode="dialog_active",e.abrupt("return");case 5:if(!this.hasError){e.next=9;break}return this.message="欄位錯誤，請正確填寫",this.mode="dialog_active",e.abrupt("return");case 9:return e.next=11,this.$http.post("/api/mornjoy_register",this.form_values);case 11:if(t=e.sent,r=t.data,n=t.response.status,a=void 0===n?422:n,console.log(a,r),![401,422].includes(a)){e.next=20;break}return this.message="欄位錯誤，請正確填寫",this.mode="dialog_active",e.abrupt("return");case 20:this.message="報名成功！",this.mode="dialog_active";case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;this.form_config.forEach(function(t){var r=t.name;e.$set(e.form_values,r,"")})}}),l=i,u=(r("5c0b"),r("2877")),c=Object(u["a"])(l,a,o,!1,null,null,null),f=c.exports,m=r("8c4f"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},d=[],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),r("h3",[e._v("Installed CLI Plugins")]),e._m(1),r("h3",[e._v("Essential Links")]),e._m(2),r("h3",[e._v("Ecosystem")]),e._m(3)])},_=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),r("br"),e._v("\n    check out the\n    "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],h={name:"HelloWorld",props:{msg:String}},g=h,b=(r("a5e2"),Object(u["a"])(g,p,_,!1,null,"536251f0",null)),y=b.exports,j={name:"home",components:{HelloWorld:y}},k=j,w=Object(u["a"])(k,v,d,!1,null,null,null),x=w.exports;n["a"].use(m["a"]);var q=new m["a"]({mode:"history",base:"/dist/",routes:[{path:"/",name:"home",component:x},{path:"/about",name:"about",component:function(){return r.e("about").then(r.bind(null,"f820"))}}]}),C=r("2f62");n["a"].use(C["a"]);var $=new C["a"].Store({state:{form:{title:"台湾高端健检预约报名",config:[{name:"name",title:"姓名",type:"text",placeholder:"请输入姓名",require:!0,rule:["[^a-zA-Z\\s\\d\\/\\\\]{2,}"],error_msg:"请输入中文姓名（兩字以上）"},{name:"gender",title:"性别",type:"radio",require:!0,option:[{label:"男士",value:"male"},{label:"女士",value:"female"}]},{name:"blood_type",title:"血型",type:"radio",require:!0,option:[{label:"A型",value:"A"},{label:"B型",value:"B"},{label:"O型",value:"O"},{label:"AB型",value:"AB"}]},{name:"birth_date",title:"生日",type:"date",require:!0,rule:[]},{name:"mobile_phone",title:"手机",type:"text",placeholder:"请输入手机号码",require:!0,rule:["1\\d{10}"],error_msg:"请输入正确电话号码"},{name:"address",title:"地址",type:"text",placeholder:"请输入联络地址",require:!0,rule:[]}],values:{}}},gatters:{},mutations:{set_value:function(e,t){var r=t.name,a=t.value;n["a"].set(e.form.values,r,a)}},actions:{}}),E=r("bc3a"),O=r.n(E),P=r("a7fe"),S=r.n(P);n["a"].use(S.a,O.a),n["a"].config.productionTip=!1,new n["a"]({router:q,store:$,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("5e27"),a=r.n(n);a.a},"5e27":function(e,t,r){},a5e2:function(e,t,r){"use strict";var n=r("fc3d"),a=r.n(n);a.a},cf05:function(e,t,r){e.exports=r.p+"assets/img/logo.0069eecc.png"},fc3d:function(e,t,r){}});
//# sourceMappingURL=app.6f2556c0.js.map